sudo: required
dist: trusty
language: node_js
node_js:
- stable
branches:
  except:
  - gh-pages
addons:
  firefox: latest
  apt:
    sources:
    - google-chrome
    packages:
    - google-chrome-stable
before_script:
- npm install web-component-tester
- npm install bower
- export PATH=$PWD/node_modules/.bin:$PATH
- bower install
script:
- xvfb-run wct --skip-plugin sauce
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then wct --plugin sauce --skip-plugin
  local; fi
after_success:
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then openssl aes-256-cbc -k "$DEPLOYSECRET"
  -in deploy.enc -out deploy_key -d; fi
- cd $TRAVIS_BUILD_DIR/scripts
- chmod 755 ghp.sh
- "./ghp.sh"
env:
  global:
  - secure: ecv77ANbq7P05DG7q1LKYvBW4ihBCK46BWGzMqK13M+4gfXxzD3XPvMLIDUcrx70E3FHZhgW8ZGWofV28KJHJ6LdzFeoaNlK+ot1J0uaJNyW2KpBT/U5C4bmmU9up026YhGXDEygko7uHqIugTJ4moTNM82MscucMEkVzonZzpjewTvcYoqTOSRInqUtRWwXy4dc10ry0SgkMmlSsPEeVVEJN4hYDxOLhMfrWugraainTJFrIPs9ot1k0acIPZd2UinEQggDb8pKxPxNivkkEgWTGQaLVnjEZf4sjcNTYYupix2sT6rHotdisyle/SE7lbSF1U7pSLxOZ3BCK+pJPPGa4EBeBSy8livmqis/rC+NeVl/mzYjbDoAdRC77DemxmuJlinBrloP8hf30l68kGpk1vMTrapfDuEQR3XQADfLh1N0RWHXwr0YDGH8s1AjsdboP96A6leiK/1/SND9ML4Da2xbkgVWUlb5mtBPLPEHRcTbUG+6b3IieWk7VDx1t1RkD7n/5o/xQYWzOyusphuzZlL4HASnqjK45+FX3JL21UZVTI8jl5sZaQXjhzBzXxbQZm35Cx9OVsSOvcGHulgTnbXcG7DnJlemI9XRqkoMamjUx4uMtv76HECd3op+ovHUYXKKJQC+HZh0MOeuY0EibJdFwjpowwZF7Un8EV0=
  - secure: ANnkWIWcE2BAmBB6a7tjkCfEB3o+XfZ0l0nfUkakGhziUgdrXfAKLx32RbAjUZdtUPg0F5k4llpUSmv8Ifm12HCOe+K9eGRYwkTC9ZnBV15qsBwWq/ZWnSfdM0/we2bU5Awj+Fh/4X0kAO+rAcIMpCMw3ivzPgm747azl6dCxy3NsrqSVEhl2h6+Yp9OGU38A/RjRtWWsrJSCqxnki76EkmzEjf3sT9wn1vGaVnzJjPefZyqnNKLdBulSR5ZrkHTjgoWT6T4iVPcDIeTw+/g6sWkgSKzWAjQd0XoiDvB83yvzP5QigYuZ2doikqPOb0kYTc22LDaHh2z+HDYEd6XK0OBjRPxzVZ14ovjEkGJAS5aMcPOgycpAeBvzygNts4CdV3+a7Nxob6KvOtdAw+2yY0F9zaYgi8J8K9A82ES39Vmgi0FNS8fF6poK3knff/WcV+RD1T8bThGyWr+TovmmWb3SxsJd/Kl0PuNl1m99bL+ou9o+hinDgWwxLq7Uws++FC4b7Qr1vq9x5DE8cRyKlG9f8CSqg/5cm/F6UlxbsIxswBe0744E8zIqv2+bsGRJhgoDTd1EBW7SdZEE7W9fhWmwZtJhFW3I2tFoqs5z+GAvi49xGTp+3HePyo3b2Drqi/BMAiGP0SbCTQ9aj3ikmgce8B/ZMrKkDiKfyAmSbo=
  - secure: D4vvEVqnp4Bjp+8kwoyhybi+cNsURA3qtx4H1OJhERJ3HGyEiUUqPYGHHGwHj9MewmkMIukYCSz9/sKVxb+NoZu04kBTAHSqmbhsVXW6i37mGGTNowbHMyy85PM+SvO07/jgXTtjYwevHE64Qbci8/FN2eFG1bOg5L6LcZuBQJ6Vq5XirqnYAAcThoSJxtlBElPa8KD4np71yMLgtdJDusEt4uOd3tLC+7Mxx3l5URluPgtiNyBmFfJeS/j/NyHr7RyXhqqLDMRRN7ezsqNsjfL6+Y6fQqblZNt6XFoL1txfc04KTZ87w5ujdSxnhEHqa/OwTOi1sl7awwRLaDKOhU+l0GZbUy5a8znwcZUvAoVRYfIQVqs5qe9iWF28VcVYPO/blu0Pc706mZpW+Mr/29c4bQbIzPg7Cw6kYNc8QThOMkc3TuTSCVqu6V8TLuU+L1W3FLn163n3PbvphvA0q06KI0t2CYgJLIrlMtO29BVA3+QAak1JBVDPAX4Z1dkXe0uUDRCyQj2M3QJfXRuPVHmXBp3W0F24hNua3k/44FInStyQ5/PmFHnXYJ2hjKItBpzLot0qXSxz7wJrwyKnZrqMYH4a/UWhSikVzRe3BbgLr71zVNMtirWyGAW/qqqvoFWTRmO9BBuw9/bn48wpPjVCIXvPBJTZNyXSYD9jlGQ=
  - secure: pTTZolaiLrqNLAj1tblKBQfM9vkAAIcDSoJn/q7MEZnDN4ubEI7BCupaOJJrkALyJwU5Vh7kUsLnfHSn/wcId7UErhjrSQ6F7lZkqU0MgnwO/dqBd9ik73nmaIgtnvUId9y2Av/4t0w68HYaXHUqk/J6rvSux44D9+PsVVxjgIS97hlnhtzOMLMf260ISAssV07PZz3Y8IKyxXQSl1UdOMO1b1QeRzEwq1oqlDLZp3NlMV4I+bRHGJD/HKdjgXw9QBQuQwM1Uq7rYgHEDqKA5g6Q/bLA6bzW8RTQirhWwLvR67fi9SqlGLmu4mKUmp+nObrI5uAvY2aCFjg9P0Hq63egL2dLrae+uzzvy61g9IbFvduIjIngebuXQpmCKl40eWhrJmbf3vESMfVX8L5SIw5FFtn4L+ZykwVgJkxBFjjgar2g9dbtq+yazgetrUGHZEkYgTy8zR6KEcaHGtuosTvku3XGauHNBx2L/5YhCAtWS7Gbd+EFmosBHZCufkzkXM5eMaKfDNSosg0qygWQIq04GV4a3du3W80E1qzfDRj/D08K2KyzTaSirNNnZX8vFI1LE5Qo68pHX1B9orxVJ+O0ivahNnzBExIYhYbaWn0kSU1aZnlop2WIQZqeUr02RTI49ujVfccUi56Pe5c/DgcHceDLL8ybvtHSCXAL73w=
