<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    <link rel='stylesheet prefetch' href='//predixdev.github.io/px-library-design/css/style.css'>

    <title>px-page mobile-demo</title>

    <script src="../webcomponentsjs/webcomponents.min.js"></script>
    <link rel="import" href="px-pages.html">
    <link rel="import" href="px-page.html">
    <link rel="import" href="../px-table-view/px-table-view.html">
    <link rel="import" href="../px-navbar/px-navbar.html">
    <style>
    body {
      position: relative;
      overflow: hidden;
    }
    px-page:nth-child(odd) {
      background: lime;
    }

    px-page:nth-child(even) {
      background: fuchsia;
    }
    </style>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
    <script type="text/javascript">
    if ('addEventListener' in document) {
      document.addEventListener('DOMContentLoaded', function() {
        FastClick.attach(document.body);
      }, false);
    }
    </script>
  </head>
  <body unresolved>
    <template id="demoPages" is="dom-bind">
      <div class="demo">
        <px-pages id="appPages" selected="0" debug>
          <px-page id="Page0" title="Home" main>
            <px-navbar view-container="appPages"></px-navbar>
            <ul id="list1" class="list-ui table-view table-view--small">
            </ul>
          </px-page>
          <px-page id="Page1" title="List">
            <px-navbar view-container="appPages" back-label="Home"></px-navbar>
            <ul id="list2" class="list-ui table-view table-view--small">
            </ul>
          </px-page>
          <px-page id="Page2" title="Details">
            <px-navbar view-container="appPages">
              <div class="navbar__right">
                <button class="btn" type="button" onclick="document.getElementById('appPages').goto('Page3')">Edit</button>
              </div>
            </px-navbar>
            <h2>Details Page</h2>
          </px-page>
          <px-page id="Page3" title="Edit">
            <px-navbar view-container="appPages" back-label="Cancel"></px-navbar>
            <h2>Edit Page</h2>
          </px-page>
        </px-pages>
      </div>
      <script type="text/javascript">
      var pages = document.getElementById('appPages');
      pages.addEventListener('change', function(e) {
        console.log('Page Changed', e);
      });

      function createDemoList(id, label, count) {
        var _out = [];
        var a, li, list,
          $el = document.querySelector(id);
        for (var i = 0; i < count; i++) {
          li = document.createElement('li');
          li.className = 'table-row table-row--nav-right';
          li.innerText = label + i;
          li.addEventListener('click', function() {
            appPages.next();
          });
          $el.appendChild(li);
        }
      }
      createDemoList('#list1', 'Category ', 100);
      createDemoList('#list2', 'Sub Category ', 100);
      </script>
    </template>

    </div>
  </body>

</html>
