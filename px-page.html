<link rel="import" href="../polymer/polymer.html"/>
<link rel="import" href="px-page-transitions.html"/>
<link rel="import" href="px-page-behavior.html"/>

<!--
```

```
@element px-page
@demo demo.html
@homepage index.html
-->
<dom-module id="px-page">
  <template>
    <style media="screen">
      :host {
        display: block;
        box-sizing: border-box;
      }

      :host.dialog {
        -webkit-transition: all 0.3s ease;
        transition: all 0.3s ease;
        position: fixed;
        left: 0;
        right: 0;
        -webkit-transform: translateY(0);
        transform: translateY(0);
        z-index: 100;
        background: #fff;
        height: 100%;
      }
      :host.dialog:not(.is-open) {
        z-index: -1;
        -webkit-transform: translateY(100%);
        transform: translateY(100%);
      }
      /* This enables the page to allow scrolling */
      :host::content section {
        height: 100%;
      }

      :host.page--has-navbar .page-content {
        margin-top: 57px !important;
      }

      :host .overthrow {
        overflow: auto;
        height: 100%;
        -webkit-overflow-scrolling: touch;
      }

      .overthrow-enabled .page-content {
        height: 100%;
      }

    </style>
    <content id="pageNavbar" select="px-navbar"></content>
    <section class="page-content overthrow">
      <content id="pageContent" select="*"></content>
    </section>
  </template>
</dom-module>
<script type="text/javascript">
  Polymer({
    is: 'px-page',
    behaviors: [PageBehavior],
    properties: {
      //The title for the page
      title: {
        type: String,
        value: null
      },

      //Path to remote view that will be loaded
      import: {
        type: String,
        notify: true,
        value: null,
        observer: '_tmplChanged'
      },

      //If the page is currently active in the viewport
      active: {
        type: Boolean,
        value: false
      },

      //If the page is the main page
      main: {
        type: Boolean,
        value: false
      },

      //If the page is a dialog
      dialog: {
        type: Boolean,
        value: false
      },

      //with URL query parameters. If your page URL is "about.html?id=10&count=20&color=blue"
      query: {
        type: Object
      },

      //The context data object associated with the page
      context: {
        type: Object
      },

      //The page that came before this page
      fromPage: {
        type: Object
      },

      //The route to set in the windows hash
      route: {
        type: String
      },

      //Contains string URL of just loaded page
      url: {
        type: String
      },

      //Link to Page HTMLElement
      container: {
        type: String
      },

      //Reference to the navbar component if it exists in the page
      navbar: {
        type: Object
      }
    },
    created: function () {
      this.toggleClass('page');
    }
  });
</script>
