<!-- TODO: Dependencies -->
<link rel="import" href="../polymer/polymer.html" />
<link rel="import" href="../px-base-element/px-base-element.html" />
<link rel="import" href="px-page-transitions.html" />
<link rel="import" href="px-page-behavior.html" />
<link rel="import" href="px-page.html" />
<link rel="import" href="px-pages-behavior.html" />


<!--
## Overview
This component is for use with child px-page elements, and is usefull if your content exceeds
the viewport and want to enable smooth scrolling.

When a page includes a px-navbar component, the navbar will show/hide a back button dependending
if it is the current page in the stack or the main page.

> This component keeps track of the pages similar to iron-pages.

<a target="_blank" href="mobile-demo.html">View the mobile demo on a device</a>



## Usage
This component should be used to manage a stack of pages for a given view.
```
<style>
	px-page{
    transition: all 0.3s ease-out;
	}

  px-page.current {
    transform: translate(0, 0);
  }

  px-page.next {
    transform: translate(50%, 0);
  }

  px-page.previous {
    transform: translate(-50%, 0);
  }
	px-page:nth-child(odd) {
		background: lime;
	}

	px-page:nth-child(even) {
		background: fuchsia;
	}
</style>
<div class="viewport">
	<div class="flex">
	<button class="btn btn--full" onclick="document.getElementById('pages').prev()">Prev</button>
  <button class="btn btn--full" onclick="document.getElementById('pages').next()">Next</button>
</div>
	<px-pages id="pages" selected="0" debug loop>
	  <px-page id="page1" main>One</px-page>
	  <px-page id="page2">Two</px-page>
	  <px-page id="page3">Three</px-page>
	  <px-page id="page4">four</px-page>
	</px-pages>
</div>
```

@element px-pages
@blurb
@demo demo.html
@homepage index.html
-->

<dom-module id="px-pages">

  <template>
    <style media="screen">
      :host {
        display: block;
        position: relative;
        -webkit-transition: all 0.4s;
        transition: all 0.4s;
        -webkit-overflow-scrolling: touch;
        height: 100%;
        width: 100%;
        min-height: 100vh;
      }

      :host::content px-page {
        opacity: 0;
        visibility: hidden;
      }

      :host::content px-page.current {
        opacity: 1;
        visibility: visible;
      }

      :host::content px-page.next {}

      :host::content px-page.previous {}
    </style>
    <content id="pages" select=".page, px-page, .px-page"></content>
  </template>
</dom-module>
<script type="text/javascript">
  Polymer({
    is: 'px-pages',
    behaviors: [BaseElement, PagesBehavior]
  });
</script>
