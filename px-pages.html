<!-- TODO: Dependencies -->
<link rel="import" href="../polymer/polymer.html"/>

<!-- TODO: px components
<link rel="import" href="../pg-card/pg-card.html"/>
-->
<link rel="import" href="../px-mobile/px-mobile-behavior.html"/>
<link rel="import" href="px-views-behavior.html"/>
<!--
<link rel="stylesheet" href="px-view.css"/>
# Overview
This provides a wrapper for px-view elements.

## Usage
To use this component in your custom component do the following:

```
<dom-module id="demo-view">
  <template>
    <px-views id="app-views">
      <px-view id="demo-card-view">
        [View Content]
      <px-view>
    </px-views>
  </template>
</dom-module>
<script>
  Polymer({
  is: 'demo-view',
    init: function(){
      // this is where you can do some initialization of your card
    },
    behaviors: [px.view]
  });
</script>
```
@element px-views
@blurb Element containing basic styling and behaviors (API) for card
@demo demo.html
@homepage index.html
-->
<dom-module id="px-views">
  <style>

  @media only screen and (min-width: 768px) {
    ::content article, ::content px-view {
      -webkit-transition: all 0.25s ease-out;
      transition: all 0.25s ease-out;
    }
  }
  :host{
    display: block;
    position: relative;
    height: 100%;
    width: 100%;
    -webkit-transition: all 0.15s;
    transition: all 0.15s;
    overflow-x: hidden;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }
  ::content px-view:first-child{

  }
  ::content px-view {
    position: absolute;
    height: 100%;
    width: 100%;
  }
  ::content .hidden{
    display:none;
  }
  ::content .current{
    left: 0%;
  }
  ::content .previous{
    left: -100%;
  }
  ::content .next{
    right: -100%;
  }
  /* ==============================
   Article navigation states
   =========================== */
  ::content .current {
    opacity: 1;
    visibility: visible;
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }
  ::content .next {
    -webkit-transform: translate3d(105%, 0, 0);
    transform: translate3d(105%, 0, 0);
    opacity: 1;
    visibility: visible;
  }
  ::content .previous {
    -webkit-transform: translate3d(-100%, 0, 0);
    transform: translate3d(-100%, 0, 0);
    opacity: 1;
    visibility: visible;
  }
  </style>
  <template>
    <div class="views">
      <content></content>
    </div>
  </template>
</dom-module>
<script type="text/javascript">
  Polymer({
    is : 'px-views',
    behaviors : [px.views],
    _initUI : function() {
      var self = this;

      self.cards = Polymer.dom(this).querySelectorAll('px-card');
      self.decks = Polymer.dom(this).querySelectorAll('px-deck');

      self._elements = self.cards.concat(self.decks);
      self._cardMap = {};
      self.cards.forEach(function(el) {
        console.log('adding', el.id, 'to _cardMap');
        self._cardMap[el.id] = el;
      });
      console.log(self);
    }
  });

</script>
