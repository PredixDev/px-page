<!doctype html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
		<link rel='stylesheet prefetch' href='https://predixdev.github.io/px-library-design/css/style.css'>
		<meta charset="UTF-8">
		<script src="../webcomponentsjs/webcomponents.js"></script>
		<script src="../web-component-tester/browser.js"></script>
		<link rel="import" href="../px-navbar/px-navbar.html">
		<link rel="import" href="px-pages.html">
		<link rel="import" href="px-page.html">
		<title>wct - px-page</title>
		<style media="screen">
			.demo {
				position: relative;
			}
		</style>
	</head>
	<body>
		<div class="demo">
			<div class="">
				<button onclick="fixture1.reset()" class="btn">reset</button>
				<button onclick="fixture1.prev()" class="btn">prev</button>
				<button onclick="fixture1.next()" class="btn">next</button>
			</div>
			<px-pages id="fixture1" title="Test Pages" debug>
				<px-page id="page1" title="Test Page-1" main>
					<px-navbar view-container="fixture1"></px-navbar>

				</px-page>
				<px-page id="page2" title="Test Page-2">
					<px-navbar view-container="fixture1"></px-navbar>
				</px-navbar>
			</px-page>
			<px-page id="page3" title="Test Page-3" theme="dark">
				<px-navbar view-container="fixture1"></px-navbar>
			</px-page>

			<px-page id="pageModal" title="Test Page-7"  dialog>
				<h3>Page 6</h3>
			</px-page>
		</px-pages>
	</div>
	<script>
		suite('<px-pages>', function () {
			var element = document.getElementById('fixture1');
			test('renders', function () {
				assert.ok(element);
			});
			test('has main page', function () {
				assert.equal(element.getCurrentPage().main, true);
			});
			test('next() - changes to next page', function () {
				element.next();
				assert.equal(element.getCurrentPage().id, 'page2');
			});
			test('prev() - changes to prev page', function () {
				element.prev();
				assert.equal(element.getCurrentPage().id, 'page1');
			});
			test('goto(id/index) - changes to page by id', function () {
				element.goto('page3');
				assert.equal(element.getCurrentPage().id, 'page3');
			});
			test('reset() - resets selected page to 0', function () {
				element.reset();
				assert.equal(element.getCurrentPage().main, true);
			});
		});
		suite('<px-page>', function () {
			var element = document.getElementById('page1');
			test('renders', function () {
				assert.ok(element);
			});
			test('has navbar', function () {
				assert.ok(element.navbar);
			});
			test('has title', function () {
				assert.ok(element.title);
			});
		});
	</script>
</body>
</html>
