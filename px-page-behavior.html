<script type="text/javascript">
  /**
 * Behavior that manages the px-page.
 *
 * @polymerBehavior
 */
  var PageBehavior = {
    attached: function () {

      this.async(function(){
        if (this.dialog) {
          this.toggleClass('dialog');
        }
        this._fixNavbar();
      });
      this.fire('px-page-ready', this);
    },
    _fixContent: function () {
      var contentHeight = this.$.pageContent.offsetHeight;
      console.warn('Resize content to', contentHeight);
    },
    _fixNavbar: function () {
      //var w = this.parentNode.offsetWidth; var h = this.parentNode.offsetHeight;
      var pageContent = this.$.pageContent;
      var pageNavbar = this.queryEffectiveChildren('px-navbar');
      if (pageNavbar) {
        this.toggleClass('has-navbar', true);
        //  pageContent.css('margin-top', pageNavbar.offsetHeight + 'px');
        if (this.theme) {
          pageNavbar.theme = this.theme;
        }
        if (this.title) {
          pageNavbar.title = this.title;
        }
        this.navbar = pageNavbar;
      }
    }
  };
</script>
